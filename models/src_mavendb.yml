version: 2

sources:
  - name: MAVENDB
    database: MAVENDB
    schema: PUBLIC  # Change this if your tables are in a different schema
    tables:
      - name: calendar
      - name: dictionary
      - name: inventory
      - name: products
      - name: sales
      - name: stores



models:
  - name: silver_products
    description: "Deduplicated and enriched products data with profit calculation"
    columns:
      - name: product_id
        description: "Unique identifier for each product"
        tests:
          - unique
          - not_null
      - name: product_name
        description: "Product name"
        tests:
          - not_null
      - name: product_category
        description: "Product category"
        tests:
          - not_null
      - name: product_cost
        description: "Cost of the product"
        tests:
          - not_null
      - name: product_price
        description: "Selling price of the product"
        tests:
          - not_null
      - name: product_profit
        description: "Profit per product (price - cost)"  





  - name: silver_dictionary
    description: "Cleaned and enriched data dictionary table"
    columns:
      - name: table_name
        description: "Name of the table"
        tests:
          - not_null
      - name: field_name
        description: "Name of the field/column"
        tests:
          - not_null
      - name: description
        description: "Description of the field"
      - name: table_field_key
        description: "Unique key for each table/field combination"
        tests:
          - unique
      - name: has_description
        description: "1 if a description is present, 0 otherwise"   